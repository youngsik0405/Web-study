<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test024.html</title>

<style type="text/css">
   * {color: #223322;}
   input {font-family: 나눔고딕코딩; font-weight: bold;}
   input:focus {background-color: #eeeedd;}
   input.btn {width: 150px; font-weight: bold; font-family: 맑은 고딕;}
   input.btn:hover {color: orange;}
   td {text-align: center;}
   .txtName {text-align: center;}
   .txtScore {text-align: right;}
   .txt {text-align: center;}
   textarea {font-family: 나눔고딕코딩; font-weight: bold;}
   th {width: 40px;}
</style>

<script type="text/javascript">

	function addCal()
	{
		//alert("확인");
		
		var days = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];
	
		var year = Number(document.getElementById("txtYear").value);
		var month = Number(document.getElementById("txtMonth").value);
		
		var tableNode = document.getElementById("calendarTbl");
		
		while (tableNode.rows.length > 1) 
		{
			tableNode.deleteRow(1);
		}
		
		if ((year % 4 == 0 && year % 100 != 0) || year % 400 == 0)
		{
			days[1] = 29;
		}
		
		var nalsu = (year-1)*365 + (year-1)/4 - (year-1)/100 + (year-1)/400;
		
		for (var i = 0; i < month-1 ; i++)
		{
			nalsu += days[i];
		}
		
		nalsu += 1;
		
		var w = nalsu % 7;
		
		var trNode = document.createElement("tr");
		
		for (var i = 1; i <= w; i++)
		{
			trNode.appendChild(createNode(""));
		}
		
		for (var i = 1; i <= days[month-1]; i++)
		{
			trNode.appendChild(createNode(i));
			
			w++;
			
			if (trNode.children.length==7)
			{
				tableNode.appendChild(trNode);
				trNode = document.createElement("tr");
			}
		}
		
		if (trNode.children.length!=0)
		{
			tableNode.appendChild(trNode);
		} 
		
	
		/* while (tableNode.rows.length > 1) {
			tableNode.deleteRow(1);
		}
		
		var firstDay = new Date(year, month - 1, 1).getDay();
		
		var days = new Date(year, month, 0).getDate();
			
		var trNode = document.createElement("tr");
		
		for (var i = 0; i < firstDay; i++)
		{
			trNode.appendChild(createNode(" "));
		}
		
		for (var i = 1; i <= days; i++)
		{
			trNode.appendChild(createNode(i));
			
			
			if ((firstDay + i) % 7 === 0)
			{
				tableNode.appendChild(trNode);
				trNode = document.createElement("tr");
			}
		}
		
		if (trNode.childNodes.length > 0) 
		{
			tableNode.appendChild(trNode);
		} */
	
		
	}
	
	
	function createNode(val)
	{
		var textNode = document.createTextNode(val);
		var tdNode = document.createElement("td");
		tdNode.appendChild(textNode);
		return tdNode;
	}


</script>


</head>
<body>

<div>
	<h1>테이블 동적 생성으로 만년달력 그리기</h1>
	<hr>
</div>

<div>
	<form>
		<input type="text" id="txtYear" class="txt" style="width: 67px;"> 년
		<input type="text" id="txtMonth" class="txt" style="width: 67px;"> 월
		<br><br>
		
		<button type="button" class="btn" style="width: 200px;" onclick="addCal()">만년달력 그리기</button>
		<br><br>
		
		<table border="1" id="calendarTbl">
		
			<tr>
				<th>일</th>
				<th>월</th>
				<th>화</th>
				<th>수</th>
				<th>목</th>
				<th>금</th>
				<th>토</th>
			</tr>
		
		</table>
		
		
	</form>
</div>


</body>
</html>