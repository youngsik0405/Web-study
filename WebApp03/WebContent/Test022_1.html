<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test022.html</title>

<script type="text/javascript">

	function stuInsert()
	{
		// 확인
		// alert("함수 호출 완료~!!!");
		
		var str = "";
		var arr = new Array();
		var student = [];
		var count = 0;
		
		// 학생 정보 입력받기
		do
		{
			str = prompt("이름 국어 영어 수학(" + (count+1) + ") : ");
			
			if (str==null || str=="." || str==" " || str=="")
				break;
			
			student = str.split(" ")
			
			//확인
			//alert(student.length);
			//alert(student[0]);
			//alert(student[1]);
			//alert(student[2]);
			//alert(student[3]);
			
			arr[count] = student;
			
			count++;
			
		} while (true);
		
		//확인
		//alert(arr[0]);
		
		// 총점 및 등수 산출
		for (var i = 0; i < arr.length; i++)
		{	
			// 총점 누적합 변수 total1 (비교 대상)
			arr[i][4] = parseInt(arr[i][1]) + parseInt(arr[i][2]) + parseInt(arr[i][3]);
			
			arr[i][5] = 1;
		
			for (var j = 0; j < arr.length; j++)   
			{
				// 비교되는 총점
				arr[j][4] = parseInt(arr[j][1]) + parseInt(arr[j][2]) + parseInt(arr[j][3]);
				
				if (i == j)
				{
					continue;
				}
				
				if (arr[i][4] < arr[j][4])
				{
					arr[i][5] = arr[i][5] + 1;
					//arr[j][5] = arr[j][5] - 1;
				}
				
				
				
			}
			
			//arr[i][5] = rank;
			
		}
		
		
		// 학생 정보 출력하기
		document.getElementById("stuCount").value = arr.length;
	
		document.getElementById("stuResult").value = " 이름    국어  영어  수학  총점  등수\n";
		
		for (var i = 0; i < arr.length; i++)
		{	
			for (var j = 0; j < arr[0].length; j++)
			{
				document.getElementById("stuResult").value += arr[i][j] + "\t";
				
			}
			document.getElementById("stuResult").value += "\n";
		}

	}


</script>
</head>
<body>

<div>
	<h1>자바스크립트 활용</h1>
	<hr>
</div>

<!-- 
	『prompt()』를 활용하여 여러 명의 성적 데이터를 입력받아 배열(다차원 배열)로 구성하고,
	등수를 부여하여 리스트를 출력하는 페이지를 구현한다.
	HTML, CSS, Javascript 를 활용한다.
	
	페이지 레이아웃
	---------------------------------------------------------
	
	< 성적 정보 입력 > → button → prompt() → 이름 국어 영어 수학(1) : 
											 → 이름 국어 영어 수학(2) : 	
											 → 이름 국어 영어 수학(3) : 	
															:
	전체 인원 수 :    [    ] 명
	---------------------------------------  → textarea
	  이름    국어  영어  수학  총점  등수
	 곽유진    80    70    60   xxx   1등   
	 공찬민    70    60    50   xxx   2등
	 엄서연    60    50    40   xxx   3등
	 
	---------------------------------------
	
	---------------------------------------------------------
 -->
<div>
	<h2>▶ 성적 입력받아 등수 산출 ◀</h2>
	<hr>
</div>
<div>
	<form>
		<input type="button" value="성적 정보 입력" class="btn" onclick="stuInsert()">
		<br><br>
		전체 인원 수 : <input type="text" readonly="readonly" id="stuCount"
		style="width: 20px;" readonly="readonly">명
		<hr>
		<textarea rows="10" cols="50" readonly="readonly" id="stuResult"></textarea>
	
	</form>
</div>

</body>
</html>